# USTC校园网络故障切换工具

这是一个用于中国科学技术大学（USTC）校园网络的自动故障切换工具。当检测到网络连接异常时，程序会自动尝试不同的网络出口进行重连。

~~你科大的校园网老是自动掉线，即使时限设置为永久（~~

## 功能特性

- **自动网络检测**：每60s检查一次网络连通性
- **自动重试机制**：连接失败时自动重试其他端口

## 环境要求

- Python 3.6+
- 依赖包：
  - `requests`
  - `lxml`

## 安装

1. 克隆或下载项目文件
2. 安装依赖包：
   ```bash
   pip install requests lxml
   ```

## 配置

1. 编辑 [`auth.py`](auth.py) 文件，设置您的校园网账号信息：
   ```python
   NAME = "your_username"      # 您的用户名
   PASSWORD = "your_password"  # 您的密码
   ```

## 使用方法

运行主程序：
```bash
python main.py
```

程序将会：
1. 每60秒检查一次网络连通性
2. 如果检测到网络异常，自动尝试登录校园网
3. 依次尝试不同的网络出口直到连接成功

## 主要功能模块

### 网络检测
- [`check_network()`](main.py)：检查网络连通性（通过访问百度）

### 端口管理
- [`switch_to_next_port()`](main.py)：切换到下一个端口
- [`get_current_port()`](main.py)：获取当前端口
- [`reset_to_first_port()`](main.py)：重置到第一个端口

### 网络登录
- [`fallback()`](main.py)：执行网络登录和端口设置的核心函数

## 注意事项

⚠️ **重要提醒**：
- 请确保 [`auth.py`](auth.py) 文件已添加到 `.gitignore` 中，避免密码泄露
- 本工具仅适用于ustcnet的网络通认证
- 建议在稳定的环境中运行，避免频繁的网络切换

## 许可证

本项目仅供学习。作者不对该程序造成的任何影响负责。
